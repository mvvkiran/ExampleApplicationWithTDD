<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Quote.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Auto Insurance API</a> &gt; <a href="index.source.html" class="el_package">com.autoinsurance.quote.entity</a> &gt; <span class="el_source">Quote.java</span></div><h1>Quote.java</h1><pre class="source lang-java linenums">package com.autoinsurance.quote.entity;

import jakarta.persistence.*;
import java.math.BigDecimal;
import java.time.LocalDate;
import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;

@Entity
@Table(name = &quot;quotes&quot;)
public class Quote {
    
    @Id
    private String id;
    
    @Column(nullable = false)
    private BigDecimal premium;
    
    @Column(nullable = false)
    private BigDecimal monthlyPremium;
    
    @Column(nullable = false)
    private BigDecimal coverageAmount;
    
    @Column(nullable = false)
    private BigDecimal deductible;
    
    @Column(nullable = false)
    private LocalDate validUntil;
    
    @Column(nullable = false)
    private LocalDateTime createdAt;
    
    // Vehicle information
    @Column(nullable = false)
    private String vehicleMake;
    
    @Column(nullable = false)
    private String vehicleModel;
    
    @Column(nullable = false)
    private Integer vehicleYear;
    
    @Column(nullable = false)
    private String vehicleVin;
    
    @Column(nullable = false)
    private BigDecimal vehicleCurrentValue;
    
    // Primary driver information
    @Column(nullable = false)
    private String primaryDriverName;
    
    @Column(nullable = false)
    private String primaryDriverLicense;
    
    @ElementCollection
    @CollectionTable(name = &quot;quote_discounts&quot;, joinColumns = @JoinColumn(name = &quot;quote_id&quot;))
    @Column(name = &quot;discount_description&quot;)
    private List&lt;String&gt; discountsApplied;
    
    // Constructors
<span class="fc" id="L64">    public Quote() {}</span>
    
    public Quote(String id, BigDecimal premium, BigDecimal monthlyPremium, BigDecimal coverageAmount,
                BigDecimal deductible, LocalDate validUntil, LocalDateTime createdAt,
                String vehicleMake, String vehicleModel, Integer vehicleYear, String vehicleVin,
                BigDecimal vehicleCurrentValue, String primaryDriverName, String primaryDriverLicense,
<span class="fc" id="L70">                List&lt;String&gt; discountsApplied) {</span>
<span class="fc" id="L71">        this.id = id;</span>
<span class="fc" id="L72">        this.premium = premium;</span>
<span class="fc" id="L73">        this.monthlyPremium = monthlyPremium;</span>
<span class="fc" id="L74">        this.coverageAmount = coverageAmount;</span>
<span class="fc" id="L75">        this.deductible = deductible;</span>
<span class="fc" id="L76">        this.validUntil = validUntil;</span>
<span class="fc" id="L77">        this.createdAt = createdAt;</span>
<span class="fc" id="L78">        this.vehicleMake = vehicleMake;</span>
<span class="fc" id="L79">        this.vehicleModel = vehicleModel;</span>
<span class="fc" id="L80">        this.vehicleYear = vehicleYear;</span>
<span class="fc" id="L81">        this.vehicleVin = vehicleVin;</span>
<span class="fc" id="L82">        this.vehicleCurrentValue = vehicleCurrentValue;</span>
<span class="fc" id="L83">        this.primaryDriverName = primaryDriverName;</span>
<span class="fc" id="L84">        this.primaryDriverLicense = primaryDriverLicense;</span>
<span class="fc bfc" id="L85" title="All 2 branches covered.">        this.discountsApplied = discountsApplied != null ? discountsApplied : new ArrayList&lt;&gt;();</span>
<span class="fc" id="L86">    }</span>

    // Builder
    public static QuoteBuilder builder() {
<span class="fc" id="L90">        return new QuoteBuilder();</span>
    }

    // Getters and Setters
<span class="fc" id="L94">    public String getId() { return id; }</span>
<span class="fc" id="L95">    public void setId(String id) { this.id = id; }</span>
    
<span class="fc" id="L97">    public BigDecimal getPremium() { return premium; }</span>
<span class="fc" id="L98">    public void setPremium(BigDecimal premium) { this.premium = premium; }</span>
    
<span class="fc" id="L100">    public BigDecimal getMonthlyPremium() { return monthlyPremium; }</span>
<span class="fc" id="L101">    public void setMonthlyPremium(BigDecimal monthlyPremium) { this.monthlyPremium = monthlyPremium; }</span>
    
<span class="fc" id="L103">    public BigDecimal getCoverageAmount() { return coverageAmount; }</span>
<span class="fc" id="L104">    public void setCoverageAmount(BigDecimal coverageAmount) { this.coverageAmount = coverageAmount; }</span>
    
<span class="fc" id="L106">    public BigDecimal getDeductible() { return deductible; }</span>
<span class="fc" id="L107">    public void setDeductible(BigDecimal deductible) { this.deductible = deductible; }</span>
    
<span class="fc" id="L109">    public LocalDate getValidUntil() { return validUntil; }</span>
<span class="fc" id="L110">    public void setValidUntil(LocalDate validUntil) { this.validUntil = validUntil; }</span>
    
<span class="fc" id="L112">    public LocalDateTime getCreatedAt() { return createdAt; }</span>
<span class="fc" id="L113">    public void setCreatedAt(LocalDateTime createdAt) { this.createdAt = createdAt; }</span>
    
<span class="fc" id="L115">    public String getVehicleMake() { return vehicleMake; }</span>
<span class="fc" id="L116">    public void setVehicleMake(String vehicleMake) { this.vehicleMake = vehicleMake; }</span>
    
<span class="fc" id="L118">    public String getVehicleModel() { return vehicleModel; }</span>
<span class="fc" id="L119">    public void setVehicleModel(String vehicleModel) { this.vehicleModel = vehicleModel; }</span>
    
<span class="fc" id="L121">    public Integer getVehicleYear() { return vehicleYear; }</span>
<span class="fc" id="L122">    public void setVehicleYear(Integer vehicleYear) { this.vehicleYear = vehicleYear; }</span>
    
<span class="fc" id="L124">    public String getVehicleVin() { return vehicleVin; }</span>
<span class="fc" id="L125">    public void setVehicleVin(String vehicleVin) { this.vehicleVin = vehicleVin; }</span>
    
<span class="fc" id="L127">    public BigDecimal getVehicleCurrentValue() { return vehicleCurrentValue; }</span>
<span class="fc" id="L128">    public void setVehicleCurrentValue(BigDecimal vehicleCurrentValue) { this.vehicleCurrentValue = vehicleCurrentValue; }</span>
    
<span class="fc" id="L130">    public String getPrimaryDriverName() { return primaryDriverName; }</span>
<span class="fc" id="L131">    public void setPrimaryDriverName(String primaryDriverName) { this.primaryDriverName = primaryDriverName; }</span>
    
<span class="fc" id="L133">    public String getPrimaryDriverLicense() { return primaryDriverLicense; }</span>
<span class="fc" id="L134">    public void setPrimaryDriverLicense(String primaryDriverLicense) { this.primaryDriverLicense = primaryDriverLicense; }</span>
    
<span class="fc" id="L136">    public List&lt;String&gt; getDiscountsApplied() { return discountsApplied; }</span>
    public void setDiscountsApplied(List&lt;String&gt; discountsApplied) { 
<span class="fc bfc" id="L138" title="All 2 branches covered.">        this.discountsApplied = discountsApplied != null ? discountsApplied : new ArrayList&lt;&gt;(); </span>
<span class="fc" id="L139">    }</span>

    @PrePersist
    private void prePersist() {
<span class="fc bfc" id="L143" title="All 2 branches covered.">        if (createdAt == null) {</span>
<span class="fc" id="L144">            createdAt = LocalDateTime.now();</span>
        }
<span class="fc" id="L146">    }</span>
    
<span class="fc" id="L148">    public static class QuoteBuilder {</span>
        private String id;
        private BigDecimal premium;
        private BigDecimal monthlyPremium;
        private BigDecimal coverageAmount;
        private BigDecimal deductible;
        private LocalDate validUntil;
        private LocalDateTime createdAt;
        private String vehicleMake;
        private String vehicleModel;
        private Integer vehicleYear;
        private String vehicleVin;
        private BigDecimal vehicleCurrentValue;
        private String primaryDriverName;
        private String primaryDriverLicense;
<span class="fc" id="L163">        private List&lt;String&gt; discountsApplied = new ArrayList&lt;&gt;();</span>
        
<span class="fc" id="L165">        public QuoteBuilder id(String id) { this.id = id; return this; }</span>
<span class="fc" id="L166">        public QuoteBuilder premium(BigDecimal premium) { this.premium = premium; return this; }</span>
<span class="fc" id="L167">        public QuoteBuilder monthlyPremium(BigDecimal monthlyPremium) { this.monthlyPremium = monthlyPremium; return this; }</span>
<span class="fc" id="L168">        public QuoteBuilder coverageAmount(BigDecimal coverageAmount) { this.coverageAmount = coverageAmount; return this; }</span>
<span class="fc" id="L169">        public QuoteBuilder deductible(BigDecimal deductible) { this.deductible = deductible; return this; }</span>
<span class="fc" id="L170">        public QuoteBuilder validUntil(LocalDate validUntil) { this.validUntil = validUntil; return this; }</span>
<span class="fc" id="L171">        public QuoteBuilder createdAt(LocalDateTime createdAt) { this.createdAt = createdAt; return this; }</span>
<span class="fc" id="L172">        public QuoteBuilder vehicleMake(String vehicleMake) { this.vehicleMake = vehicleMake; return this; }</span>
<span class="fc" id="L173">        public QuoteBuilder vehicleModel(String vehicleModel) { this.vehicleModel = vehicleModel; return this; }</span>
<span class="fc" id="L174">        public QuoteBuilder vehicleYear(Integer vehicleYear) { this.vehicleYear = vehicleYear; return this; }</span>
<span class="fc" id="L175">        public QuoteBuilder vehicleVin(String vehicleVin) { this.vehicleVin = vehicleVin; return this; }</span>
<span class="fc" id="L176">        public QuoteBuilder vehicleCurrentValue(BigDecimal vehicleCurrentValue) { this.vehicleCurrentValue = vehicleCurrentValue; return this; }</span>
<span class="fc" id="L177">        public QuoteBuilder primaryDriverName(String primaryDriverName) { this.primaryDriverName = primaryDriverName; return this; }</span>
<span class="fc" id="L178">        public QuoteBuilder primaryDriverLicense(String primaryDriverLicense) { this.primaryDriverLicense = primaryDriverLicense; return this; }</span>
<span class="fc" id="L179">        public QuoteBuilder discountsApplied(List&lt;String&gt; discountsApplied) { this.discountsApplied = discountsApplied; return this; }</span>
        
        public Quote build() {
<span class="fc" id="L182">            return new Quote(id, premium, monthlyPremium, coverageAmount, deductible, validUntil, </span>
                           createdAt, vehicleMake, vehicleModel, vehicleYear, vehicleVin, 
                           vehicleCurrentValue, primaryDriverName, primaryDriverLicense, discountsApplied);
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>